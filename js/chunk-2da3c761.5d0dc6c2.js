(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2da3c761"],{1276:function(t,s,e){"use strict";var i=e("d784"),r=e("44e7"),n=e("825a"),a=e("1d80"),o=e("4840"),c=e("8aa5"),l=e("50c4"),u=e("14c3"),h=e("9263"),d=e("d039"),p=[].push,v=Math.min,f=4294967295,g=!d((function(){return!RegExp(f,"y")}));i("split",2,(function(t,s,e){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var i=String(a(this)),n=void 0===e?f:e>>>0;if(0===n)return[];if(void 0===t)return[i];if(!r(t))return s.call(i,t,n);var o,c,l,u=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,g=new RegExp(t.source,d+"g");while(o=h.call(g,i)){if(c=g.lastIndex,c>v&&(u.push(i.slice(v,o.index)),o.length>1&&o.index<i.length&&p.apply(u,o.slice(1)),l=o[0].length,v=c,u.length>=n))break;g.lastIndex===o.index&&g.lastIndex++}return v===i.length?!l&&g.test("")||u.push(""):u.push(i.slice(v)),u.length>n?u.slice(0,n):u}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:s.call(this,t,e)}:s,[function(s,e){var r=a(this),n=void 0==s?void 0:s[t];return void 0!==n?n.call(s,r,e):i.call(String(r),s,e)},function(t,r){var a=e(i,t,this,r,i!==s);if(a.done)return a.value;var h=n(t),d=String(this),p=o(h,RegExp),_=h.unicode,x=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(g?"y":"g"),m=new p(g?h:"^(?:"+h.source+")",x),S=void 0===r?f:r>>>0;if(0===S)return[];if(0===d.length)return null===u(m,d)?[d]:[];var C=0,E=0,b=[];while(E<d.length){m.lastIndex=g?E:0;var y,w=u(m,g?d:d.slice(E));if(null===w||(y=v(l(m.lastIndex+(g?0:E)),d.length))===C)E=c(d,E,_);else{if(b.push(d.slice(C,E)),b.length===S)return b;for(var I=1;I<=w.length-1;I++)if(b.push(w[I]),b.length===S)return b;E=C=y}}return b.push(d.slice(C)),b}]}),!g)},"14c3":function(t,s,e){var i=e("c6b6"),r=e("9263");t.exports=function(t,s){var e=t.exec;if("function"===typeof e){var n=e.call(t,s);if("object"!==typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,s)}},"1dde":function(t,s,e){var i=e("d039"),r=e("b622"),n=e("2d00"),a=r("species");t.exports=function(t){return n>=51||!i((function(){var s=[],e=s.constructor={};return e[a]=function(){return{foo:1}},1!==s[t](Boolean).foo}))}},"44e7":function(t,s,e){var i=e("861d"),r=e("c6b6"),n=e("b622"),a=n("match");t.exports=function(t){var s;return i(t)&&(void 0!==(s=t[a])?!!s:"RegExp"==r(t))}},5319:function(t,s,e){"use strict";var i=e("d784"),r=e("825a"),n=e("7b0b"),a=e("50c4"),o=e("a691"),c=e("1d80"),l=e("8aa5"),u=e("14c3"),h=Math.max,d=Math.min,p=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,f=/\$([$&'`]|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};i("replace",2,(function(t,s,e,i){var _=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,x=i.REPLACE_KEEPS_$0,m=_?"$":"$0";return[function(e,i){var r=c(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,r,i):s.call(String(r),e,i)},function(t,i){if(!_&&x||"string"===typeof i&&-1===i.indexOf(m)){var n=e(s,t,this,i);if(n.done)return n.value}var c=r(t),p=String(this),v="function"===typeof i;v||(i=String(i));var f=c.global;if(f){var C=c.unicode;c.lastIndex=0}var E=[];while(1){var b=u(c,p);if(null===b)break;if(E.push(b),!f)break;var y=String(b[0]);""===y&&(c.lastIndex=l(p,a(c.lastIndex),C))}for(var w="",I=0,k=0;k<E.length;k++){b=E[k];for(var A=String(b[0]),R=h(d(o(b.index),p.length),0),$=[],O=1;O<b.length;O++)$.push(g(b[O]));var P=b.groups;if(v){var T=[A].concat($,R,p);void 0!==P&&T.push(P);var N=String(i.apply(void 0,T))}else N=S(A,p,R,$,P,i);R>=I&&(w+=p.slice(I,R)+N,I=R+A.length)}return w+p.slice(I)}];function S(t,e,i,r,a,o){var c=i+t.length,l=r.length,u=f;return void 0!==a&&(a=n(a),u=v),s.call(o,u,(function(s,n){var o;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(c);case"<":o=a[n.slice(1,-1)];break;default:var u=+n;if(0===u)return s;if(u>l){var h=p(u/10);return 0===h?s:h<=l?void 0===r[h-1]?n.charAt(1):r[h-1]+n.charAt(1):s}o=r[u-1]}return void 0===o?"":o}))}}))},6547:function(t,s,e){var i=e("a691"),r=e("1d80"),n=function(t){return function(s,e){var n,a,o=String(r(s)),c=i(e),l=o.length;return c<0||c>=l?t?"":void 0:(n=o.charCodeAt(c),n<55296||n>56319||c+1===l||(a=o.charCodeAt(c+1))<56320||a>57343?t?o.charAt(c):n:t?o.slice(c,c+2):a-56320+(n-55296<<10)+65536)}};t.exports={codeAt:n(!1),charAt:n(!0)}},"65f0":function(t,s,e){var i=e("861d"),r=e("e8b5"),n=e("b622"),a=n("species");t.exports=function(t,s){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)?i(e)&&(e=e[a],null===e&&(e=void 0)):e=void 0),new(void 0===e?Array:e)(0===s?0:s)}},8418:function(t,s,e){"use strict";var i=e("c04e"),r=e("9bf2"),n=e("5c6c");t.exports=function(t,s,e){var a=i(s);a in t?r.f(t,a,n(0,e)):t[a]=e}},8873:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"confirmOrder"},[e("header",[t._m(0),e("span",{staticClass:"h_s_1"},[t._v("确认订单")]),t.isShow1?e("router-link",{staticClass:"h_a_2",attrs:{to:"/login"}},[e("span",[t._v("登录|注册")])]):t._e(),t.isShow1?t._e():e("router-link",{staticClass:"h_a_2",attrs:{to:"/profile"}},[e("i",{staticClass:"el-icon-user"})])],1),e("section",{staticClass:"s1"},[t.isShow3?e("router-link",{staticClass:"s11",attrs:{to:"/chooseAddress"}},[e("div",[e("i",{staticClass:"el-icon-location-outline"}),e("div",[t._v("请添加一个收货地址")])]),e("i",{staticClass:"el-icon-arrow-right"})]):t._e(),t.isShow3?t._e():e("router-link",{staticClass:"s11",attrs:{to:"/chooseAddress"}},[e("div",[e("i",{staticClass:"el-icon-location-outline"}),e("div",{staticClass:"s12"},[e("div",{staticClass:"s121"},[e("span",[t._v(t._s(t.address.name))]),e("span",[t._v(t._s(1==t.address.sex?"先生":"女士"))]),e("span",[t._v(t._s(t.address.phone))])]),e("div",{staticClass:"s122"},[e("span",[t._v(t._s(t.address.tag))]),e("p",[t._v(t._s(t.address.address))])])])]),e("i",{staticClass:"el-icon-arrow-right"})])],1),e("section",{staticClass:"s2"},[e("p",[t._v("送达时间")]),e("div",[e("p",[t._v("尽快送达 | 预计 "+t._s(this.service_time))]),e("p",[t._v(t._s(t.shop.delivery_mode.text))])])]),e("section",{staticClass:"s3"},[e("div",{staticClass:"s31",on:{click:function(s){t.isShow2=!t.isShow2}}},[e("span",[t._v("支付方式")]),t._m(1)]),t._m(2)]),t.isShow2?e("div",{staticClass:"yinying",on:{click:function(s){t.isShow2=!t.isShow2}}}):t._e(),t.isShow2?e("div",{staticClass:"styleM"},[e("div",{staticClass:"st1"},[t._v("支付方式")]),t._m(3),e("div",{staticClass:"st3"},[e("span",[t._v("在线支付")]),e("i",{staticClass:"el-icon-success",on:{click:function(s){t.isShow2=!t.isShow2}}})])]):t._e(),e("section",{staticClass:"s4"},[e("div",{staticClass:"s41"},[e("img",{staticClass:"img",attrs:{src:"https://elm.cangdu.org/img/"+this.shop.image_path}}),e("span",[t._v(t._s(t.shop.name))])]),e("ul",t._l(t.shopsC,(function(s){return e("li",[e("p",[t._v(t._s(s.name)+t._s(""!=s.specs?"-"+s.specs:""))]),e("div",{staticClass:"s411"},[e("span",[t._v("x"+t._s(s.quantity))]),e("span",[t._v("￥"+t._s(s.price))])])])})),0),t._m(4),e("div",{staticClass:"s42"},[e("p",[t._v("配送费")]),e("div",[e("span"),e("span",[t._v("￥"+t._s(t.shop.float_delivery_fee))])])]),e("div",{staticClass:"s43"},[e("p",[t._v("订单￥"+t._s(t.total))]),e("div",[e("span",[t._v("待支付￥"+t._s(t.total))])])])]),e("section",{staticClass:"s5"},[e("router-link",{attrs:{to:"/remark"}},[e("span",[t._v("订单备注")]),e("div",{staticClass:"s51"},[e("span",{staticClass:"ellipsis"},[t._v(t._s(t.remark))]),e("i",{staticClass:"el-icon-arrow-right"})])]),e("router-link",{attrs:{to:"/invoice"}},[e("span",[t._v("发票抬头")]),e("div",{staticClass:"s51"},[e("span",[t._v("不需要开发票")]),e("i",{staticClass:"el-icon-arrow-right"})])])],1),e("section",{staticClass:"s6"},[e("p",{staticClass:"s61"},[t._v("待支付￥"+t._s(t.total))]),e("p",{staticClass:"s62",on:{click:t.order}},[t._v("确认下单")])])])},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("a",{staticClass:"h_a_1",attrs:{href:"javascript:history.back(-1)"}},[e("i",{staticClass:"el-icon-arrow-left"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"s311"},[e("span",[t._v("在线支付")]),e("i",{staticClass:"el-icon-arrow-right"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"s32"},[e("span",[t._v("红包")]),e("span",[t._v("暂时只在饿了么APP中支持")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"st2"},[e("span",[t._v("货到付款（商家不支持货到付款）")]),e("i",{staticClass:"el-icon-success"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"s42"},[e("p",[t._v("餐盒")]),e("div",[e("span"),e("span",[t._v("￥351")])])])}],n=(e("a434"),e("b0c0"),e("ac1f"),e("5319"),e("1276"),{name:"ConfirmOrder",data:function(){return{isShow1:!0,shop:[],shops:[],shopsC:[],user_id:"",cart_id:"",service_time:"",Hours:"",Minutes:"",isShow2:!1,total:"",isShow3:!0,address:[],entities:[],geohash:"",remark:"口味、偏好等"}},created:function(){var t=this;if(localStorage.getItem("user_id")?this.isShow1=!1:this.isShow1=!0,localStorage.getItem("remark")){this.remark=localStorage.getItem("remark");var s=setInterval((function(){localStorage.removeItem("remark"),clearInterval(s)}),5e3)}else this.remark="口味、偏好等";this.shop=JSON.parse(localStorage.getItem("shop")),this.shops=JSON.parse(localStorage.getItem("shops")),this.geohash=JSON.parse(localStorage.getItem("position"))[0].geohash,this.user_id=localStorage.getItem("user_id"),this.cart_id=this.$route.query.cart_id,console.log(this.cart_id);var e=this.shop.order_lead_time.replace(/小时/,",").replace(/分钟/,"").split(",");this.Hours=(new Date).getHours(),this.Minutes=(new Date).getMinutes();var i=60*e[0]-0+(e[1]-0)+60*this.Hours+this.Minutes;console.log(i);var r=Math.floor(i/60)%24,n=i%60;r<10&&(r="0"+r),n<10&&(n="0"+n),this.service_time=r+":"+n;for(var a=0;a<this.shops.length;a++)this.shops[a].restaurant_id==this.shop.id&&(this.total-=0,this.total+=this.shops[a].quantity*this.shops[a].price-0,this.shopsC.push(this.shops[a]));if(this.total=this.total+351+this.shop.float_delivery_fee,localStorage.getItem("chooseAddress")){this.address=JSON.parse(localStorage.getItem("chooseAddress"));var o=setInterval((function(){localStorage.removeItem("chooseAddress"),clearInterval(o)}),500);this.isShow3=!1}else this.axios.get("/v1/users/"+this.user_id+"/addresses").then((function(s){s.length>0&&(t.address=s[0],t.isShow3=!1)})).catch((function(t){}));this.entities=[];for(var c=[],l=0;l<this.shops.length;l++)c.push({attrs:[],extra:{},id:this.shops[l].id,name:this.shops[l].name,packing_fee:this.shops[l].packing_fee,price:this.shops[l].price,quantity:this.shops[l].quantity,sku_id:this.shops[l].sku_id,specs:this.shops[l].specs,stock:this.shops[l].stock});this.entities.push(c),console.log(this.entities)},methods:{order:function(){var t=this;this.axios.post("/v1/users/"+this.user_id+"/carts/"+this.cart_id+"/orders",{address_id:this.address.id,restaurant_id:this.shop.id,geohash:this.geohash,description:"",entities:this.entities}).then((function(s){console.log(s),1==s.status&&t.$router.push("/payment")}));var s=JSON.parse(localStorage.getItem("shops"));if(localStorage.getItem("shops"))for(var e=0;e<s.length;e++)this.shop.id==s[e].restaurant_id&&(s.splice(e,1),e--);localStorage.setItem("shops",JSON.stringify(s))}}}),a=n,o=(e("adba"),e("2877")),c=Object(o["a"])(a,i,r,!1,null,"9cf66b06",null);s["default"]=c.exports},"8aa5":function(t,s,e){"use strict";var i=e("6547").charAt;t.exports=function(t,s,e){return s+(e?i(t,s).length:1)}},9263:function(t,s,e){"use strict";var i=e("ad6d"),r=e("9f7f"),n=RegExp.prototype.exec,a=String.prototype.replace,o=n,c=function(){var t=/a/,s=/b*/g;return n.call(t,"a"),n.call(s,"a"),0!==t.lastIndex||0!==s.lastIndex}(),l=r.UNSUPPORTED_Y||r.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],h=c||u||l;h&&(o=function(t){var s,e,r,o,h=this,d=l&&h.sticky,p=i.call(h),v=h.source,f=0,g=t;return d&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),g=String(t).slice(h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==t[h.lastIndex-1])&&(v="(?: "+v+")",g=" "+g,f++),e=new RegExp("^(?:"+v+")",p)),u&&(e=new RegExp("^"+v+"$(?!\\s)",p)),c&&(s=h.lastIndex),r=n.call(d?e:h,g),d?r?(r.input=r.input.slice(f),r[0]=r[0].slice(f),r.index=h.lastIndex,h.lastIndex+=r[0].length):h.lastIndex=0:c&&r&&(h.lastIndex=h.global?r.index+r[0].length:s),u&&r&&r.length>1&&a.call(r[0],e,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=o},"9f7f":function(t,s,e){"use strict";var i=e("d039");function r(t,s){return RegExp(t,s)}s.UNSUPPORTED_Y=i((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),s.BROKEN_CARET=i((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a434:function(t,s,e){"use strict";var i=e("23e7"),r=e("23cb"),n=e("a691"),a=e("50c4"),o=e("7b0b"),c=e("65f0"),l=e("8418"),u=e("1dde"),h=e("ae40"),d=u("splice"),p=h("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,f=Math.min,g=9007199254740991,_="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!d||!p},{splice:function(t,s){var e,i,u,h,d,p,x=o(this),m=a(x.length),S=r(t,m),C=arguments.length;if(0===C?e=i=0:1===C?(e=0,i=m-S):(e=C-2,i=f(v(n(s),0),m-S)),m+e-i>g)throw TypeError(_);for(u=c(x,i),h=0;h<i;h++)d=S+h,d in x&&l(u,h,x[d]);if(u.length=i,e<i){for(h=S;h<m-i;h++)d=h+i,p=h+e,d in x?x[p]=x[d]:delete x[p];for(h=m;h>m-i+e;h--)delete x[h-1]}else if(e>i)for(h=m-i;h>S;h--)d=h+i-1,p=h+e-1,d in x?x[p]=x[d]:delete x[p];for(h=0;h<e;h++)x[h+S]=arguments[h+2];return x.length=m-i+e,u}})},ac1f:function(t,s,e){"use strict";var i=e("23e7"),r=e("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,s,e){"use strict";var i=e("825a");t.exports=function(){var t=i(this),s="";return t.global&&(s+="g"),t.ignoreCase&&(s+="i"),t.multiline&&(s+="m"),t.dotAll&&(s+="s"),t.unicode&&(s+="u"),t.sticky&&(s+="y"),s}},adba:function(t,s,e){"use strict";var i=e("ce84"),r=e.n(i);r.a},ae40:function(t,s,e){var i=e("83ab"),r=e("d039"),n=e("5135"),a=Object.defineProperty,o={},c=function(t){throw t};t.exports=function(t,s){if(n(o,t))return o[t];s||(s={});var e=[][t],l=!!n(s,"ACCESSORS")&&s.ACCESSORS,u=n(s,0)?s[0]:c,h=n(s,1)?s[1]:void 0;return o[t]=!!e&&!r((function(){if(l&&!i)return!0;var t={length:-1};l?a(t,1,{enumerable:!0,get:c}):t[1]=1,e.call(t,u,h)}))}},b0c0:function(t,s,e){var i=e("83ab"),r=e("9bf2").f,n=Function.prototype,a=n.toString,o=/^\s*function ([^ (]*)/,c="name";i&&!(c in n)&&r(n,c,{configurable:!0,get:function(){try{return a.call(this).match(o)[1]}catch(t){return""}}})},ce84:function(t,s,e){},d784:function(t,s,e){"use strict";e("ac1f");var i=e("6eeb"),r=e("d039"),n=e("b622"),a=e("9263"),o=e("9112"),c=n("species"),l=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),h=n("replace"),d=function(){return!!/./[h]&&""===/./[h]("a","$0")}(),p=!r((function(){var t=/(?:)/,s=t.exec;t.exec=function(){return s.apply(this,arguments)};var e="ab".split(t);return 2!==e.length||"a"!==e[0]||"b"!==e[1]}));t.exports=function(t,s,e,h){var v=n(t),f=!r((function(){var s={};return s[v]=function(){return 7},7!=""[t](s)})),g=f&&!r((function(){var s=!1,e=/a/;return"split"===t&&(e={},e.constructor={},e.constructor[c]=function(){return e},e.flags="",e[v]=/./[v]),e.exec=function(){return s=!0,null},e[v](""),!s}));if(!f||!g||"replace"===t&&(!l||!u||d)||"split"===t&&!p){var _=/./[v],x=e(v,""[t],(function(t,s,e,i,r){return s.exec===a?f&&!r?{done:!0,value:_.call(s,e,i)}:{done:!0,value:t.call(e,s,i)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),m=x[0],S=x[1];i(String.prototype,t,m),i(RegExp.prototype,v,2==s?function(t,s){return S.call(t,this,s)}:function(t){return S.call(t,this)})}h&&o(RegExp.prototype[v],"sham",!0)}},e8b5:function(t,s,e){var i=e("c6b6");t.exports=Array.isArray||function(t){return"Array"==i(t)}}}]);
//# sourceMappingURL=chunk-2da3c761.5d0dc6c2.js.map